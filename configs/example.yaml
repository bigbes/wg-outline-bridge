---
log_level: "info"
# cache_dir: "/var/cache/wg-outline-bridge"  # cache for downloaded files (default: ~/.cache/wg-outline-bridge)

wireguard:
  private_key: "CHANGE_ME_BASE64_PRIVATE_KEY"
  listen_port: 51820
  address: "10.100.0.1/24"
  public_address: ""  # server's public IP, used for client config generation
  mtu: 1420
  dns: "1.1.1.1"

# dns:                         # Built-in DNS proxy server
#   enabled: true
#   listen: "10.100.0.1:53"    # defaults to wireguard address :53
#   upstream: "1.1.1.1:53"     # defaults to wireguard dns :53
#   records:                   # static local records (highest priority)
#     myhost.internal:
#       a: ["10.100.0.10"]
#       ttl: 60
#   rules:                     # evaluated in order, first match wins
#     - name: "ads"
#       action: block
#       lists:
#         - url: "https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts"
#           format: hosts
#           refresh: 86400
#         - url: "https://big.oisd.nl/domainswild2"
#           format: domains
#     - name: "ru-direct-dns"
#       action: upstream
#       upstream: "77.88.8.8:53"
#       domains:
#         - "*.ru"
#         - "*.yandex.com"
#     - name: "custom-block"
#       action: block
#       domains:
#         - "telemetry.example.com"

# mtproxy:                    # MTProxy server (Telegram proxy protocol)
#   enabled: true
#   listen:
#     - "0.0.0.0:443"
#   outline: "default"         # which outline to use for backend connections
#   secrets:                   # inline 16-byte hex secrets (32 chars; optional dd/ee prefix)
#     - "dd0123456789abcdef0123456789abcdef"
#   secrets_file: "configs/mtproxy.secrets"  # file with one secret per line (default: <config_dir>/mtproxy.secrets)
#   stats_addr: "127.0.0.1:8080"  # HTTP stats endpoint (localhost-only, GET /stats)
#   fake_tls:                  # fake TLS handshake for censorship resistance
#     enabled: false
#     sni:                     # allowed SNI hostnames (first is used in client proxy links)
#       - "www.google.com"
#       - "www.cloudflare.com"
#     max_clock_skew_seconds: 600
#     replay_cache_ttl_hours: 48
#   endpoints:                 # override Telegram DC endpoints (optional)
#     1: ["149.154.175.50:443"]
#     2: ["149.154.167.51:443"]

# telegram:                     # Telegram bot for observation & commands
#   enabled: true
#   token: "123456:ABC-DEF..."   # Bot API token from @BotFather
#   chat_id: -1001234567890      # (optional) Chat ID for periodic status push
#   interval: 300                # Status push interval in seconds (default: 300)
#   allowed_users:               # (optional) Only these user IDs can use the bot in private chats
#     - 123456789

outlines:
  - name: "default"
    transport: "ss://CHANGE_ME"
    default: true
#  - name: "alt"
#    transport: "ss://CHANGE_ME_ALT"

# geoip:                     # GeoIP MMDB databases for country-based routing
#   - name: "country"         # name used in geoip: references (optional)
#     path: "/path/to/GeoLite2-Country.mmdb"  # local path or URL
#     refresh: 86400          # reload interval in seconds (default: 86400)
#   - name: "alt"
#     path: "https://example.com/GeoIP2-Country.mmdb"
#     refresh: 604800

# routing:
#   exclude_cidrs:          # CIDRs excluded from client WireGuard AllowedIPs
#     - "192.168.0.0/16"    # (traffic goes direct, never enters WG tunnel)
#
#   ip_rules:
#     - name: "private-networks"
#       action: direct
#       cidrs:
#         - "10.0.0.0/8"
#         - "172.16.0.0/12"
#         - "192.168.0.0/16"
#
#     - name: "country-bypass"
#       action: direct
#       cidrs:
#         - "geoip:RU"            # match by country using first (default) DB
#         - "geoip:BY"
#         - "geoip:alt:UA"        # match using a specific named DB
#
#     - name: "country-bypass-list"
#       action: direct
#       lists:
#         - url: "https://raw.githubusercontent.com/nickvdyck/geoip-country-lists/main/list/cidr/RU.cidr"
#           refresh: 86400
#
#     - name: "cloudflare-direct"
#       action: direct
#       asns:
#         - 13335              # Cloudflare
#
#   sni_rules:
#     - name: "video-via-alt"
#       action: outline
#       outline: "alt"
#       domains:
#         - "*.youtube.com"
#         - "*.googlevideo.com"
#
#     - name: "direct-domains"
#       action: direct
#       domains:
#         - "*.ru"
#         - "*.yandex.com"
